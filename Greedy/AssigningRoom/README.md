# 1931 회의실 배정
- 그리디 (라인스위핑)

## 🍎 문제 접근
- 최대한 많은 회의를 할 수 있도록 회의 스케줄을 짜는것이 이 문제의 포인트
- 끝나는 지점을 기준으로 오름차순 정렬
    - 끝나자마자 다른 회의를 잡을 수 있다.
    - 즉, 빨리 끝나면 다른 회의를 잡을 수 있어 회의실을 더 많이 사용 할 수 있다는 이야기!
- 이 문제를 브루트 포스로 풀게 된다면?
    - 하나의 구간마다 선택할지 말지를 결정해야 하기 때문에 2^n번의 지수(exponential) 시간복잡도를 가지게 된다.

## 🍎 조심해야 할점
- 하나의 회의가 끝나자 마자 다른 회의가 시작될 수 있다.
    - 즉 A회의가 1시에 시작해서 4시에 끝나면 B 회의는 4시부터 바로 회의를 시작할 수 있다.
- 끝나는 지점을 기준으로 오름차순 정렬을 했는데 86%쯤에서 "틀렸습니다"가 나왔다! 생각해보니 문제에서 "회의의 시작시간과 끝나는 시간이 같을 수도 있다"라는 조건이 있었고, 만약 5시~10시까지 진행되는 회의와 10시~10시까지 진행되는 회의가 있다면 10시~10시 회의를 먼저 진행하면 5시~10시 회의를 진행 할 수 없지만, 5시~10시 회의를 먼저 진행하면 10시~10시 회의도 진행 할 수 있다.
    - 10시~10시 회의를 먼저 진행하고 5시~10시 회의를 진행한 경우 -> 회의 1개만 진행가능
    - 5시~10시 회의를 먼저 진행하고 10시~10시 회의를 진행하는 경우 -> 회의 2개 진행가능
- 이런 경우를 대비해서 먼저 회의 종료 시점을 먼저 오름차순으로 두고 종료 시점이 같다면 시작 시간이 앞선 회의를 앞에 두는 정렬을 하면 된다.
```swift
intervals.sort(by: {
    if $0.1 == $1.1 {
        return $0.0 < $1.0
    }
    return $0.1 < $1.1
})
```

## 🍎 전체 코드
```swift
import Foundation

let num = Int(readLine()!)!

var intervals: [(Int,Int)] = []

for _ in 0..<num {
    let interval = readLine()!.split(separator: " ").map { Int(String($0))! }
    intervals.append((interval[0], interval[1]))
}

intervals.sort(by: {
    if $0.1 == $1.1 {
        return $0.0 < $1.0
    }
    return $0.1 < $1.1
})

var start = intervals[0].0
var end = intervals[0].1
var result = 1

for i in 1..<intervals.count {
    if intervals[i].0 < end {
        continue
    } else {
        result += 1
        end = intervals[i].1
    }
}
print(result)
```

## 🍎 증명
- 이부분은 Source님의 [tistory](https://source-sc.tistory.com/59)에서 가져옴
- 최대 회의 갯수를 구하는 문제에서 회의 종료 시간을 기준으로 정렬 후 답을 구한것이 정말 최적의 해 인가?
- 만약 아래와 같이 전체 회의 시간이 있고 가장 빨리 끝나는 회의가 k에 끝나는 회의라고 하자
- 이 회의를 진행하게 되면 앞으로 우리는 하늘색 영역에 있는 시간들만 이용할수 있게된다.
![](https://i.imgur.com/SKaOQnS.png)
- 그런데 만약 k보다 늦게 끝나는 회의를 먼저 잡으면 어떻게 될까?
- 아래와 같이 k'에 끝나는 회의를 선택하게 되면 회의에 사용할수 있는 시간이 적어진다.
![](https://i.imgur.com/zX21Ff6.png)
- k에 끝나는 회의를 고르는것이 k'에 끝나는 회의를 고르는것보다 최적의 방법이라는 것을 반박하기 위해서는 L이라는 남은 시간보다 L'라는 남은시간에 회의들을 배치하는것이 더 많은 회의를 넣을 수 있다는 것을 증명해야한다.
- 과연 같은 회의목록들을 가지고 더 적은 타임에 많은 회의들을 넣는것이 가능할까?
- 당연히 불가능 하다.
- 따라서 항상 가장 빨리 끝나는 회의를 선택하는것이 최적의 해를 도출해낸다고 볼수 있다.
